{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { useDispatch } from \"react-redux\";\nconst dispatch = useDispatch();\nconst initialState = {\n  cartContentAmount: 0,\n  cartContentAmountLimit: 10,\n  cartedProducts: []\n};\nconst cart = createSlice({\n  name: \"cart\",\n  initialState: initialState,\n  reducers: {\n    increaseCart: (state, action) => {\n      if (state.cartContentAmount == state.cartContentAmountLimit) {\n        return;\n      } else {\n        state.cartContentAmount = state.cartContentAmount + 1;\n        dispatch(addProduct(action.payload));\n      }\n    },\n    decreaseCart: (state, action) => {\n      var _state$cartedProducts;\n      state.cartContentAmount = state.cartContentAmount - 1;\n      (_state$cartedProducts = state.cartedProducts) === null || _state$cartedProducts === void 0 ? void 0 : _state$cartedProducts.map((product, index) => {\n        if (action.payload.id === product.id) {\n          var count = product.count;\n          count = count - 1;\n          delete product.count;\n          product.count = count;\n        }\n      });\n    },\n    deleteProduct: (state, action) => {\n      var _state$cartedProducts2;\n      if (action.payload.count == 1) {\n        state.cartContentAmount = state.cartContentAmount - 1;\n      } else {\n        state.cartContentAmount = state.cartContentAmount - action.payload.count;\n      }\n      (_state$cartedProducts2 = state.cartedProducts) === null || _state$cartedProducts2 === void 0 ? void 0 : _state$cartedProducts2.map((product, index) => {\n        if (action.payload.id === product.id) {\n          state.cartedProducts.splice(index, 1);\n        }\n      });\n    },\n    addProduct: (state, action) => {\n      if (state.cartContentAmount <= state.cartContentAmountLimit) {\n        var _state$cartedProducts3;\n        var found = false;\n        (_state$cartedProducts3 = state.cartedProducts) === null || _state$cartedProducts3 === void 0 ? void 0 : _state$cartedProducts3.map((product, index) => {\n          if (action.payload.id === product.id) {\n            var count = product.count;\n            count = count + 1;\n            delete product.count;\n            product.count = count;\n            found = true;\n          }\n        });\n        if (found !== true) {\n          action.payload.count = 1;\n          state.cartedProducts.push(action.payload);\n        }\n      }\n    }\n  }\n});\nexport const {\n  increaseCart,\n  decreaseCart,\n  deleteProduct,\n  addProduct\n} = cart.actions;\nexport default cart.reducer;","map":{"version":3,"names":["createSlice","useDispatch","dispatch","initialState","cartContentAmount","cartContentAmountLimit","cartedProducts","cart","name","reducers","increaseCart","state","action","addProduct","payload","decreaseCart","_state$cartedProducts","map","product","index","id","count","deleteProduct","_state$cartedProducts2","splice","_state$cartedProducts3","found","push","actions","reducer"],"sources":["/home/osama/Downloads/React/reactapp/storeapp/src/store/slices/cart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { useDispatch } from \"react-redux\";\nconst dispatch = useDispatch();\nconst initialState = {\n  cartContentAmount: 0,\n  cartContentAmountLimit: 10,\n  cartedProducts: []\n};\n\nconst cart = createSlice({\n  name: \"cart\",\n  initialState: initialState,\n  reducers: {\n    increaseCart: (state, action) => {\n      if(state.cartContentAmount == state.cartContentAmountLimit){\n        return\n      }else{\n        state.cartContentAmount = state.cartContentAmount + 1;\n        dispatch(addProduct(action.payload))\n\n      }\n      \n    },\n    decreaseCart: (state, action) => {\n      state.cartContentAmount = state.cartContentAmount - 1;\n      state.cartedProducts?.map((product,index) => {\n        if(action.payload.id === product.id){\n          var count = product.count\n          count = count - 1\n          delete product.count\n          product.count = count\n        }\n      })\n    },\n    deleteProduct: (state, action) => {\n      if(action.payload.count == 1){\n        state.cartContentAmount = state.cartContentAmount - 1;\n      }else{\n        state.cartContentAmount = state.cartContentAmount - action.payload.count ;\n      }\n      state.cartedProducts?.map((product,index) => {\n        if(action.payload.id === product.id){\n          state.cartedProducts.splice(index, 1)\n        }\n      })\n    },\n    addProduct: (state, action) => {\n      if(state.cartContentAmount <= state.cartContentAmountLimit ){\n        var found = false\n        state.cartedProducts?.map((product,index) => {\n        if(action.payload.id === product.id){\n          var count = product.count\n          count = count + 1\n          delete product.count\n          product.count = count\n          found = true\n        }\n      })\n      if (found !== true){\n        action.payload.count = 1\n        state.cartedProducts.push(action.payload)\n      }\n      }\n      \n    }\n  },\n});\n\nexport const {\n    increaseCart,\n    decreaseCart,\n    deleteProduct,\n    addProduct,\n} = cart.actions;\n\nexport default cart.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}